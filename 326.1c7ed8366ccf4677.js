"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[326],{1326:(g,_,n)=>{n.r(_),n.d(_,{MainBoardComponent:()=>p});var i=n(6814),e=n(6689),l=n(6040),c=n(1079),d=n(2806),m=n(4957),u=n(1006),v=n(9013),f=n(3161),E=n(4913);const M=function(o){return{id:o}};function B(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"a",2),e._uU(2),e.qZA(),e.BQk()),2&o){const a=s.$implicit,r=e.oxw();e.xp6(1),e.Q6J("routerLink",r.boardRoutes.board(e.VKq(3,M,a.id)))("@enterAnimation",void 0),e.xp6(1),e.hij(" ",a.title," ")}}let p=(()=>{var o;class s{constructor(){this._boardsService=(0,e.f3M)(f.E),this._socketService=(0,e.f3M)(d.$c),this.sideNavTheme="g10",this.boardRoutes=d.Dc,this.currentUserBoards$=this._boardsService.currentUserBoards$,this._initializedListener()}ngOnInit(){this._boardsService.fetchAllBoards().subscribe(r=>{this._boardsService.setCurrentUserBoards(r)})}onBoardTitleAdded(r){this._boardsService.createBoard(r).subscribe({next:t=>{this._boardsService.addToCurrentUserBoards(t)},error:t=>{console.log("Error creating board",t)}})}_initializedListener(){this._socketService.listen(m.tA.deleteBoardSuccess).pipe((0,l.sL)()).subscribe(({boardId:r})=>{this._boardsService.removeFromCurrentUserBoards(r)})}}return(o=s).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["v-notes-lib-main-board"]],standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[["formTitle","Create a new board","label","Title",3,"valueSubmitted"],[4,"ngFor","ngForOf"],[1,"board",3,"routerLink"]],template:function(r,t){1&r&&(e.TgZ(0,"v-notes-lib-inline-form",0),e.NdJ("valueSubmitted",function(O){return t.onBoardTitleAdded(O)}),e.qZA(),e.YNc(1,B,3,5,"ng-container",1),e.ALo(2,"async")),2&r&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.currentUserBoards$)))},dependencies:[i.ez,i.sg,i.Ov,u.nf,v.O,c.Bz,c.rH,E.A],styles:["[_nghost-%COMP%]{display:flex;gap:1.5rem;padding:2.5rem;flex-wrap:wrap}[_nghost-%COMP%]   .board[_ngcontent-%COMP%]{width:200px;aspect-ratio:2/1;display:block;background-color:#d0e2ff;padding:.75rem;color:#002d9c;text-decoration:none;display:flex;align-items:center;justify-content:center}"],data:{animation:[(0,d.Hp)("400ms")]},changeDetection:0}),s})()}}]);